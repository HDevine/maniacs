//>>built
define("dojox/mvc/computed",["dojo/_base/array","dojo/_base/lang","dojo/has"],function(h,l,f){function p(a,b,g){var d;a&&l.isFunction(a.watch)&&(d=a.watch(b,function(b,a,c){q(a,c)||g(c,a)}));return{remove:function(){d&&d.remove()}}}function k(a){return h.map(a,function(b){return b.each?h.map(b.target,function(a){return a.get?a.get(b.targetProp):a[b.targetProp]}):b.target.get?b.target.get(b.targetProp):b.target[b.targetProp]})}function n(a){for(var b=null;b=a.shift();)b.remove()}f.add("object-is-api",
l.isFunction(Object.is));var m=Array.prototype,q=f("object-is-api")?Object.is:function(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b};return function(a,b,g){function d(c){var d,e;try{d=g.apply(a,c),e=!0}catch(r){}e&&(l.isFunction(a.set)?a.set(b,d):a[b]=d)}if(null==a)throw Error("Computed property cannot be applied to null.");if("*"===b)throw Error("Wildcard property cannot be used for computed properties.");var e=m.slice.call(arguments,3),f=h.map(e,function(a,b){function f(b){return p(b,a.targetProp,
function(){d(k(e))})}if("*"===a.targetProp)throw Error("Wildcard property cannot be used for computed properties.");if(a.each){var c,g=h.map(a.target,f);a.target&&l.isFunction(a.target.watchElements)&&(c=a.target.watchElements(function(a,b,c){n(m.splice.apply(g,[a,b.length].concat(h.map(c,f))));d(k(e))}));return{remove:function(){c&&c.remove();n(g)}}}return p(a.target,a.targetProp,function(a){var c=[];m.push.apply(c,k(e.slice(0,b)));c.push(a);m.push.apply(c,k(e.slice(b+1)));d(c)})});d(k(e));return{remove:function(){n(f)}}}});
//# sourceMappingURL=computed.js.map