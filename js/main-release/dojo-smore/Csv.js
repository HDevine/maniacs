//>>built
define("dojo-smore/Csv",["dojo/_base/lang","dojo/_base/declare","dojo/store/Memory"],function(r,u,v){var w=/^\s*"([\S\s]*)"\s*$/,x=/""/g,y=/"/g;return u(v,{fieldNames:null,delimiter:",",newline:"\r\n",trim:!1,setData:function(l){var p=[],h=l.split(this.newline),k=this.fieldNames,c=0,b=[],a="",d="";this.idProperty||(this.idProperty="__id");var e=0,m=h.length;a:for(;e<m;e++)if(r.trim(h[e])){for(var f=h[e].split(this.delimiter),n=0,q=f.length;n<q;n++){for(var g=f[n],t=-1,a=a+(d+g),d="";0<=(t=g.indexOf('"',
t+1));)c++;if(0===c%2){if(c)if(c=w.exec(a))b.push(c[1].replace(x,'"'));else{b=[];a="";c=0;continue a}else b.push(this.trim||!k?r.trim(a):a);a="";c=0}else d=this.delimiter}if(c)d=this.newline;else{if(k){f=k;n={};q=f.length;g=void 0;for(g=0;g<q;g++)n[f[g]]=b[g];b=n;f=p.push(b);"__id"===this.idProperty&&(b.__id=f)}else k=this.fieldNames=b;b=[]}}this.inherited(arguments,[p])},toCsv:function(l){l=l||{};for(var p=l.alwaysQuote,h=this.fieldNames,k=this.data,c=this.delimiter,b=this.newline,a="",d=-1;d<k.length;d++){-1<
d&&(a+=b);for(var e=0;e<h.length;e++)var m=0>d?h[e]:k[d][h[e]],f=p||0<=m.indexOf('"')||0<=m.indexOf(c),a=a+((0<e?c:"")+(f?'"'+m.replace(y,'""')+'"':m))}l.trailingNewline&&(a+=b);return a}})});
//# sourceMappingURL=Csv.js.map