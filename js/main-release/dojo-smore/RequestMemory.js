//>>built
define("dojo-smore/RequestMemory","dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/when dojo/request dojo/store/Memory dojo/store/util/QueryResults".split(" "),function(f,g,h,e,k,l,m){return f(l,{url:"",requestOptions:null,alwaysPromise:!0,constructor:function(){var c={};this.url&&this.setUrl(this.url);h.forEach(["get","add","put","remove"],function(b){c[b]=this[b];this[b]=function(){var a=arguments,d=this;return e(this._promise,function(){return c[b].apply(d,a)})}},this)},query:function(c,
b){var a=this,d=new m(e(this._promise,function(){return a.queryEngine(c,b)(a.data)}));d.total=e(d,function(a){return"total"in a?a.total:a.length});return d},setUrl:function(c){var b=this,a=this._promise,d=g.mixin({handleAs:"json"},this.requestOptions);a&&!a.isFulfilled()&&a.cancel();a=this._promise=k(c,d);a.then(function(a){b.setData(a,b.alwaysPromise)});return a},setData:function(c,b){var a=this._promise;a&&!a.isFulfilled()&&a.cancel();b||delete this._promise;this.inherited(arguments)}})});
//# sourceMappingURL=RequestMemory.js.map